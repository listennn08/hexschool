{"version":3,"sources":["webpack:///./src/views/Payment.vue?3b11","webpack:///src/views/Payment.vue","webpack:///./src/views/Payment.vue?3d33","webpack:///./src/views/Payment.vue","webpack:///./src/views/Payment.vue?c67a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","class","hide","isCollapse","_l","order","prod","key","product","id","style","backgroundImage","imageUrl","_s","title","quantity","_f","price","_e","on","$event","toggleCollapse","user","name","tel","email","address","payment","paid","doPay","loading","show","staticRenderFns","data","created","computed","methods","toggleLoading","component"],"mappings":"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","file":"js/chunk-123bb993.7347ea49.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('message'),_c('h4',[_c('font-awesome-icon',{staticClass:\"titleIcon\",attrs:{\"icon\":['far', 'clipboard']}}),_vm._v(\" 購物清單\")],1),_c('ul',{staticClass:\"list\",class:{hide: !_vm.isCollapse}},_vm._l((_vm.order.products),function(prod){return _c('li',{key:prod.product.id,staticClass:\"list__item\"},[_c('div',{staticClass:\"col pic\",style:({backgroundImage: (\"url(\" + (prod.product.imageUrl[0]) + \")\")})}),_c('div',{staticClass:\"col\"},[_vm._v(_vm._s(prod.product.title))]),_c('div',{staticClass:\"col\"},[_vm._v(\"x\"+_vm._s(prod.quantity))]),_c('div',{staticClass:\"col\"},[_vm._v(_vm._s(_vm._f(\"cash\")(prod.product.price)))])])}),0),_c('div',{staticClass:\"collapse\"},[(!_vm.isCollapse)?_c('div',{staticClass:\"horizon\"},[_vm._v(\"⋯\")]):_vm._e(),_c('button',{staticClass:\"collapse__btn\",class:_vm.isCollapse? 'up' : 'down',on:{\"click\":function($event){return _vm.toggleCollapse()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', _vm.isCollapse?'angle-double-up' : 'angle-double-down']}})],1)]),_c('h4',[_c('font-awesome-icon',{staticClass:\"titleIcon\",attrs:{\"icon\":['fas', 'info-circle']}}),_vm._v(\" 訂單資訊\")],1),(_vm.order.user)?_c('table',{staticClass:\"info\"},[_c('tr',[_c('td',[_vm._v(\"姓名\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('td',[_vm._v(\"電話\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('td',[_vm._v(\"信箱\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('td',[_vm._v(\"地址\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_c('tr',[_c('td',[_vm._v(\"付款方式\")]),_c('td',[_vm._v(_vm._s(_vm.order.payment))])]),_c('tr',[_c('td',[_vm._v(\"付款狀態\")]),_c('td',{class:_vm.order.paid ? 'paid': 'unpaid'},[_vm._v(_vm._s(_vm.order.paid ? '已付款' : '未付款'))])])]):_vm._e(),_c('button',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.doPay(_vm.order.id)}}},[_c('div',{staticClass:\"txt\",class:{hide: _vm.loading}},[_vm._v(\"確認付款\")]),_c('font-awesome-icon',{staticClass:\"loading fa-1x fa-spin\",class:{show: _vm.loading},attrs:{\"icon\":['fa', 'spinner']}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  .container\n    message\n    h4\n      font-awesome-icon.titleIcon(:icon=\"['far', 'clipboard']\")\n      | &nbsp; 購物清單\n    ul.list(:class=\"{hide: !isCollapse}\")\n      li.list__item(\n        v-for=\"prod in order.products\"\n        :key=\"prod.product.id\"\n      )\n        .col.pic(:style=\"{backgroundImage: `url(${prod.product.imageUrl[0]})`}\")\n        .col {{ prod.product.title }}\n        .col x{{ prod.quantity }}\n        .col {{ prod.product.price | cash }}\n    .collapse\n      .horizon(v-if=\"!isCollapse\") ⋯\n      button.collapse__btn(\n            :class=\"isCollapse? 'up' : 'down'\"\n            @click=\"toggleCollapse()\"\n          )\n            font-awesome-icon(\n              :icon=\"['fas', isCollapse?'angle-double-up' : 'angle-double-down']\"\n            )\n    h4\n      font-awesome-icon.titleIcon(:icon=\"['fas', 'info-circle']\")\n      | &nbsp; 訂單資訊\n    table.info(v-if=\"order.user\")\n      tr\n        td 姓名\n        td {{ order.user.name }}\n      tr\n        td 電話\n        td {{ order.user.tel }}\n      tr\n        td 信箱\n        td {{ order.user.email }}\n      tr\n        td 地址\n        td {{ order.user.address }}\n      tr\n        td 付款方式\n        td {{ order.payment }}\n      tr\n        td 付款狀態\n        td(:class=\"order.paid ? 'paid': 'unpaid'\") {{ order.paid ? '已付款' : '未付款' }}\n    button.btn(@click=\"doPay(order.id)\")\n      .txt(:class=\"{hide: loading}\") 確認付款\n      font-awesome-icon.loading.fa-1x.fa-spin(\n        :icon=\"['fa', 'spinner']\"\n        :class=\"{show: loading}\"\n      )\n\n</template>\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport { getOrder, payOrder } from '../apis/utils';\n\nexport default {\n  data() {\n    return {\n      isCollapse: false,\n    };\n  },\n  created() {\n    const loader = this.$loading.show();\n    const { id } = this.$route.params;\n    getOrder(id)\n      .then((resp) => {\n        this.setOrder(resp.data.data);\n        loader.hide();\n      });\n  },\n  computed: {\n    ...mapGetters(['order', 'loading']),\n  },\n  methods: {\n    ...mapActions(['setMsg', 'setOrder', 'toggleLoading']),\n    toggleCollapse() {\n      this.isCollapse = !this.isCollapse;\n    },\n    doPay(id) {\n      this.toggleLoading();\n      payOrder(id)\n        .then((resp) => {\n          this.setOrder(resp.data.data);\n          this.toggleLoading();\n          this.setMsg({\n            msg: '付款完成！',\n            type: true,\n          });\n        })\n        .catch(() => {\n          this.toggleLoading();\n          this.setMsg({\n            msg: '付款失敗！',\n            type: false,\n          });\n        });\n    },\n  },\n};\n</script>\n<style lang=\"sass\" scoped>\n@import url(https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;700;900&family=Raleway:wght@700;900&family=Open+Sans:wght@400;600&display=swap)\n$navyblue: #333D51\n$hnavyblue: #242b39\n$goldyellow: #D3AC2B\n$darkgray: #CBD0D8\n$darkgrayn: #46505e\n$lightgray: #F4F3EA\n@keyframes collapseAnimation\n  0%\n    transform: translateY(0)\n  50%\n    transform: translateY(10%)\n  100%\n    transform: translateY(20%)\n*\n  margin: 0\n  padding: 0\n  list-style: none\n.container\n  width: 40%\n  margin: 2% 30%\n  text-align: center\n  h4\n    text-align: left\n    width: 80%\n    margin: 1% 10%\n    border-bottom: 2px solid $navyblue\n.list\n  display: flex\n  flex-direction: column\n  width: 80%\n  margin: 1% 10%\n  &.hide\n    overflow-y: hidden\n\n    max-height: 150px\n.list__item\n  display: flex\n  align-items: center\n  justify-content: center\n  margin: 1% 0\n  padding: 1%\n  border-bottom: 1px dotted #888\n.collapse\n  display: flex\n  flex-direction: column\n  align-items: center\n  justify-content: center\n.collapse__btn\n  cursor: pointer\n  padding: 1% 2%\n  border: 0\n  background: transparent\n  outline: none\n  transform: translateY(0)\n  &.down\n    animation: collapseAnimation 1s infinite linear forwards\n  &.up\n    animation: collapseAnimation 1s infinite linear reverse forwards\n  &:hover\n    animation-play-state: paused\n.horizon\n  font-weight: 700\n  writing-mode: vertical-rl\n.col\n  width: 18%\n  padding: 1%\n  &.pic\n    height: 100px\n    background-position: left\n    background-repeat: no-repeat\n    background-size: cover\n.info\n  width: 50%\n  border-top: 1px solid $navyblue\n  border-collapse: collapse\n  margin: 0 25%\n  td\n    border: 1px solid $navyblue\n    padding: 2%\n    &.paid\n      color: green\n    &.unpaid\n      color: red\n.btn\n  margin-top: 1%\n  align-self: center\n  width: 16%\n  padding: 1% 2%\n  font-family: 'Noto Sans TC', sans serif\n  border: 1px solid $darkgray\n  border-radius: 5px\n  background: $lightgray\n  color: $navyblue\n  transition: .2s\n  outline: none\n  &:hover\n    background: $darkgrayn\n    color: $lightgray\n  .txt.hide\n    display: none\n  .loading\n    font-size: 18px\n    width: 100%\n    text-align: center\n    display: none\n    &.show\n      display: block\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Payment.vue?vue&type=template&id=021c12d9&scoped=true&lang=pug&\"\nimport script from \"./Payment.vue?vue&type=script&lang=js&\"\nexport * from \"./Payment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Payment.vue?vue&type=style&index=0&id=021c12d9&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"021c12d9\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=style&index=0&id=021c12d9&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=style&index=0&id=021c12d9&lang=sass&scoped=true&\""],"sourceRoot":""}