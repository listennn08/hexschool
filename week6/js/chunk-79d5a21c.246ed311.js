(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79d5a21c"],{"13d5":function(t,r,e){"use strict";var n=e("23e7"),i=e("d58f").left,c=e("a640"),a=e("ae40"),o=c("reduce"),s=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!o||!s},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"2f09":function(t,r,e){},"6e9f":function(t,r,e){"use strict";var n=e("2f09"),i=e.n(n);i.a},8647:function(t,r,e){"use strict";e.r(r);var n=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"shopcart"},[t.products&&t.products.length>0?e("div",{staticClass:"container"},[e("button",{ref:"removeAllContainer",staticClass:"removeAll",on:{click:function(r){return t.deleteCartData()}}},[t._v("刪除所有商品")]),e("table",[t._m(0),e("tbody",{ref:"preivew"},t._l(t.products,(function(r,n){return e("tr",{key:r.product.id},[e("td",{attrs:{scoped:"row"}},[t._v(t._s(n+1))]),e("td",{staticClass:"pic",style:{backgroundImage:"url("+r.product.imageUrl[0]+")"}}),e("td",[e("div",{staticClass:"item-name"},[t._v(t._s(t._f("hideText")(r.product.title)))])]),e("td",[r.product.price?e("div",{staticClass:"price"},[t._v(t._s(t._f("cash")(r.product.price))),e("span",{class:{strike:r.product.price}},[t._v(t._s(t._f("cash")(r.product.origin_price)))])]):t._e()]),e("td",[e("div",{staticClass:"num-control"},[e("button",{staticClass:"num-minus",on:{click:function(r){return t.countQuantity(n,"m")}}},[t._v("−")]),e("input",{directives:[{name:"model",rawName:"v-model",value:r.quantity,expression:"item.quantity"}],staticClass:"num-input",attrs:{type:"number"},domProps:{value:r.quantity},on:{change:function(r){return t.updateCartData(n)},input:function(e){e.target.composing||t.$set(r,"quantity",e.target.value)}}}),e("button",{staticClass:"num-plus",on:{click:function(r){return t.countQuantity(n,"p")}}},[t._v("+")])])]),e("td",{staticClass:"item-total"},[t._v(t._s(t._f("cash")(t.getItemTotal(n))))]),e("td",[e("button",{staticClass:"remove",class:{removing:r.removing},on:{click:function(r){return t.deleteCartData(n)}}},[t._v("×")])])])})),0),e("tr",{staticClass:"total"},[e("td",[t._v("小計")]),e("td",{attrs:{colspan:"4"}}),e("td",[t._v(t._s(t._f("cash")(t.countAll)))]),e("td")])]),e("div",{staticClass:"shopcart-checkout"},[e("button",{staticClass:"continueshop"},[e("router-link",{attrs:{to:"products"}},[t._v("‹‹ 繼續購物")])],1),e("button",{staticClass:"checkout"},[e("router-link",{attrs:{to:"checkout"}},[t._v("去結帳 ››")])],1)])]):e("div",{staticClass:"container"},[e("div",{staticClass:"noItemAlert"},[t._v("還沒有把喜愛的商品加入購物車唷 趕快去購物吧！")]),e("div",{staticClass:"shopcart-checkout"},[e("button",{staticClass:"continueshop"},[e("router-link",{attrs:{to:"/products"}},[t._v("‹‹繼續購物")])],1)])])])},i=[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("thead",[e("tr",[e("th",[t._v("編號")]),e("th",[t._v("圖示")]),e("th",[t._v("產品名稱")]),e("th",[t._v("售價")]),e("th",[t._v("購買數量")]),e("th",[t._v("總價")]),e("th",[t._v("移除")])])])}],c=(e("d81d"),e("13d5"),e("a434"),e("2909")),a=e("2803"),o={data:function(){return{products:[],productCheck:[]}},created:function(){this.getShopCartData()},computed:{countAll:function(){return this.products.reduce((function(t,r){return t+r.quantity*(r.product.price?r.product.price:r.product.origin_price)}),0)}},methods:{getShopCartData:function(){var t=this,r=this.$loading.show();Object(a["n"])().then((function(e){t.products=Object(c["a"])(e.data.data).map((function(t){var r=t;return r.removing=!1,r})),r.hide()}))},countQuantity:function(t,r){"m"===r?this.products[t].quantity>1&&(this.products[t].quantity-=1):"p"===r&&(this.products[t].quantity+=1),this.updateCartData(t)},updateCartData:function(t){Object(a["t"])(this.products[t].product.id,this.products[t].quantity)},deleteCartData:function(t){var r=this;if(t||0===t)this.products[t].removing=!0,Object(a["g"])(this.products[t].product.id).then((function(){r.products.splice(t,1),r.products[t].removing=!1}));else{var e=this.$loading.show({container:this.$refs.removeAllContainer,isFullPage:!1});Object(a["g"])().then((function(){r.products=[],e.hide()}))}},getItemTotal:function(t){return this.products[t].quantity*(this.products[t].product.price?this.products[t].product.price:this.products[t].product.origin_price)}}},s=o,u=(e("6e9f"),e("2877")),d=Object(u["a"])(s,n,i,!1,null,"7aa790a2",null);r["default"]=d.exports},d58f:function(t,r,e){var n=e("1c0b"),i=e("7b0b"),c=e("44ad"),a=e("50c4"),o=function(t){return function(r,e,o,s){n(e);var u=i(r),d=c(u),p=a(u.length),l=t?p-1:0,h=t?-1:1;if(o<2)while(1){if(l in d){s=d[l],l+=h;break}if(l+=h,t?l<0:p<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:p>l;l+=h)l in d&&(s=e(s,d[l],l,u));return s}};t.exports={left:o(!1),right:o(!0)}},d81d:function(t,r,e){"use strict";var n=e("23e7"),i=e("b727").map,c=e("1dde"),a=e("ae40"),o=c("map"),s=a("map");n({target:"Array",proto:!0,forced:!o||!s},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-79d5a21c.246ed311.js.map