{"version":3,"sources":["webpack:///./src/views/Payment.vue?d997","webpack:///src/views/Payment.vue","webpack:///./src/views/Payment.vue?3d33","webpack:///./src/views/Payment.vue","webpack:///./src/views/Payment.vue?f3ee"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","class","hide","isCollapse","_l","order","prod","key","product","id","style","backgroundImage","imageUrl","_s","title","quantity","_f","price","_e","on","$event","toggleCollapse","user","name","tel","email","address","payment","paid","doPay","loading","show","staticRenderFns","data","created","computed","methods","toggleLoading","component"],"mappings":"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","file":"js/chunk-112a464c.cc6b7ddc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('message'),_c('h4',[_c('font-awesome-icon',{staticClass:\"titleIcon\",attrs:{\"icon\":['far', 'clipboard']}}),_vm._v(\" 購物清單\")],1),_c('ul',{staticClass:\"list\",class:{hide: !_vm.isCollapse}},_vm._l((_vm.order.products),function(prod){return _c('li',{key:prod.product.id,staticClass:\"list__item\"},[_c('div',{staticClass:\"col pic\",style:({backgroundImage: (\"url(\" + (prod.product.imageUrl[0]) + \")\")})}),_c('div',{staticClass:\"col\"},[_vm._v(_vm._s(prod.product.title))]),_c('div',{staticClass:\"col\"},[_vm._v(\"x\"+_vm._s(prod.quantity))]),_c('div',{staticClass:\"col\"},[_vm._v(_vm._s(_vm._f(\"cash\")(prod.product.price)))])])}),0),_c('div',{staticClass:\"collapse\"},[(!_vm.isCollapse)?_c('div',{staticClass:\"horizon\"},[_vm._v(\"⋯\")]):_vm._e(),_c('button',{staticClass:\"collapse__btn\",class:_vm.isCollapse? 'up' : 'down',on:{\"click\":function($event){return _vm.toggleCollapse()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', _vm.isCollapse?'angle-double-up' : 'angle-double-down']}})],1)]),_c('h4',[_c('font-awesome-icon',{staticClass:\"titleIcon\",attrs:{\"icon\":['fas', 'info-circle']}}),_vm._v(\" 訂單資訊\")],1),(_vm.order.user)?_c('table',{staticClass:\"info\"},[_c('tr',[_c('td',[_vm._v(\"姓名\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('td',[_vm._v(\"電話\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('td',[_vm._v(\"信箱\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('td',[_vm._v(\"地址\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_c('tr',[_c('td',[_vm._v(\"付款方式\")]),_c('td',[_vm._v(_vm._s(_vm.order.payment))])]),_c('tr',[_c('td',[_vm._v(\"付款狀態\")]),_c('td',{class:_vm.order.paid ? 'paid': 'unpaid'},[_vm._v(_vm._s(_vm.order.paid ? '已付款' : '未付款'))])])]):_vm._e(),_c('button',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.doPay(_vm.order.id)}}},[_c('div',{staticClass:\"txt\",class:{hide: _vm.loading}},[_vm._v(\"確認付款\")]),_c('font-awesome-icon',{staticClass:\"loading fa-1x fa-spin\",class:{show: _vm.loading},attrs:{\"icon\":['fa', 'spinner']}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\r\n  .container\r\n    message\r\n    h4\r\n      font-awesome-icon.titleIcon(:icon=\"['far', 'clipboard']\")\r\n      | &nbsp; 購物清單\r\n    ul.list(:class=\"{hide: !isCollapse}\")\r\n      li.list__item(\r\n        v-for=\"prod in order.products\"\r\n        :key=\"prod.product.id\"\r\n      )\r\n        .col.pic(:style=\"{backgroundImage: `url(${prod.product.imageUrl[0]})`}\")\r\n        .col {{ prod.product.title }}\r\n        .col x{{ prod.quantity }}\r\n        .col {{ prod.product.price | cash }}\r\n    .collapse\r\n      .horizon(v-if=\"!isCollapse\") ⋯\r\n      button.collapse__btn(\r\n        :class=\"isCollapse? 'up' : 'down'\"\r\n        @click=\"toggleCollapse()\"\r\n      )\r\n        font-awesome-icon(\r\n          :icon=\"['fas', isCollapse?'angle-double-up' : 'angle-double-down']\"\r\n        )\r\n    h4\r\n      font-awesome-icon.titleIcon(:icon=\"['fas', 'info-circle']\")\r\n      | &nbsp; 訂單資訊\r\n    table.info(v-if=\"order.user\")\r\n      tr\r\n        td 姓名\r\n        td {{ order.user.name }}\r\n      tr\r\n        td 電話\r\n        td {{ order.user.tel }}\r\n      tr\r\n        td 信箱\r\n        td {{ order.user.email }}\r\n      tr\r\n        td 地址\r\n        td {{ order.user.address }}\r\n      tr\r\n        td 付款方式\r\n        td {{ order.payment }}\r\n      tr\r\n        td 付款狀態\r\n        td(:class=\"order.paid ? 'paid': 'unpaid'\") {{ order.paid ? '已付款' : '未付款' }}\r\n    button.btn(@click=\"doPay(order.id)\")\r\n      .txt(:class=\"{hide: loading}\") 確認付款\r\n      font-awesome-icon.loading.fa-1x.fa-spin(\r\n        :icon=\"['fa', 'spinner']\"\r\n        :class=\"{show: loading}\"\r\n      )\r\n\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex';\r\nimport { getOrder, payOrder } from '../apis/utils';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      isCollapse: false,\r\n    };\r\n  },\r\n  created() {\r\n    const loader = this.$loading.show();\r\n    const { id } = this.$route.params;\r\n    getOrder(id)\r\n      .then((resp) => {\r\n        this.setOrder(resp.data.data);\r\n        loader.hide();\r\n      });\r\n  },\r\n  computed: {\r\n    ...mapGetters(['order', 'loading']),\r\n  },\r\n  methods: {\r\n    ...mapActions(['setMsg', 'setOrder', 'toggleLoading']),\r\n    toggleCollapse() {\r\n      this.isCollapse = !this.isCollapse;\r\n    },\r\n    doPay(id) {\r\n      this.toggleLoading();\r\n      payOrder(id)\r\n        .then((resp) => {\r\n          this.setOrder(resp.data.data);\r\n          this.toggleLoading();\r\n          this.setMsg({\r\n            msg: '付款完成！',\r\n            type: true,\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.toggleLoading();\r\n          this.setMsg({\r\n            msg: '付款失敗！',\r\n            type: false,\r\n          });\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"sass\" scoped>\r\n@import url(https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;900&family=Raleway:wght@700;900&family=Open+Sans:wght@400;600&display=swap)\r\n$navyblue: #333D51\r\n$hnavyblue: #242b39\r\n$goldyellow: #D3AC2B\r\n$darkgray: #CBD0D8\r\n$darkgrayn: #46505e\r\n$lightgray: #F4F3EA\r\n@keyframes collapseAnimation\r\n  0%\r\n    transform: translateY(0)\r\n  50%\r\n    transform: translateY(10%)\r\n  100%\r\n    transform: translateY(20%)\r\n*\r\n  font-family: 'Noto Sans TC', sans serif\r\n.container\r\n  width: 40%\r\n  margin: 2% 30%\r\n  text-align: center\r\n  h4\r\n    text-align: left\r\n    width: 80%\r\n    margin: 1% 10%\r\n    border-bottom: 2px solid $navyblue\r\n.list\r\n  display: flex\r\n  flex-direction: column\r\n  width: 80%\r\n  margin: 1% 10%\r\n  &.hide\r\n    overflow-y: hidden\r\n\r\n    max-height: 150px\r\n.list__item\r\n  display: flex\r\n  align-items: center\r\n  justify-content: center\r\n  margin: 1% 0\r\n  padding: 1%\r\n  border-bottom: 1px dotted #888\r\n.collapse\r\n  display: flex\r\n  flex-direction: column\r\n  align-items: center\r\n  justify-content: center\r\n.collapse__btn\r\n  cursor: pointer\r\n  padding: 1% 2%\r\n  border: 0\r\n  background: transparent\r\n  outline: none\r\n  transform: translateY(0)\r\n  &.down\r\n    animation: collapseAnimation 1s infinite linear forwards\r\n  &.up\r\n    animation: collapseAnimation 1s infinite linear reverse forwards\r\n  &:hover\r\n    animation-play-state: paused\r\n.horizon\r\n  font-weight: 700\r\n  writing-mode: vertical-rl\r\n.col\r\n  width: 18%\r\n  padding: 1%\r\n  &.pic\r\n    height: 100px\r\n    background-position: left\r\n    background-repeat: no-repeat\r\n    background-size: cover\r\n.info\r\n  width: 50%\r\n  border-top: 1px solid $navyblue\r\n  border-collapse: collapse\r\n  margin: 0 25%\r\n  td\r\n    border: 1px solid $navyblue\r\n    padding: 2%\r\n    &.paid\r\n      color: green\r\n    &.unpaid\r\n      color: red\r\n.btn\r\n  margin-top: 1%\r\n  align-self: center\r\n  width: 16%\r\n  padding: 1% 2%\r\n  font-family: 'Noto Sans TC', sans serif\r\n  border: 1px solid $darkgray\r\n  border-radius: 5px\r\n  background: $lightgray\r\n  color: $navyblue\r\n  transition: .2s\r\n  outline: none\r\n  &:hover\r\n    background: $darkgrayn\r\n    color: $lightgray\r\n  .txt.hide\r\n    display: none\r\n  .loading\r\n    font-size: 18px\r\n    width: 100%\r\n    text-align: center\r\n    display: none\r\n    &.show\r\n      display: block\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Payment.vue?vue&type=template&id=06bed6ce&scoped=true&lang=pug&\"\nimport script from \"./Payment.vue?vue&type=script&lang=js&\"\nexport * from \"./Payment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Payment.vue?vue&type=style&index=0&id=06bed6ce&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06bed6ce\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=style&index=0&id=06bed6ce&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=style&index=0&id=06bed6ce&lang=sass&scoped=true&\""],"sourceRoot":""}