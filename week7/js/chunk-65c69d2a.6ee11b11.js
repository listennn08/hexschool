(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65c69d2a"],{"0d95":function(t,s,e){},"5f0c":function(t,s,e){"use strict";var i=e("0d95"),n=e.n(i);n.a},a55b:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container is-fluid is-centered"},[e("div",{staticClass:"container"},[t._m(0),e("div",{staticClass:"columns is-centered"},[e("div",{staticClass:"login column is-two-fifths box"},[e("h3",{staticClass:"is-size-4 has-text-left px-5"},[t._v("登入")]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"content"},[e("div",{staticClass:"field"},[e("div",{staticClass:"control has-icons-left"},[e("input",{staticClass:"input",attrs:{id:"email",type:"email",required:"",placeholder:"信箱"}}),e("span",{staticClass:"icon is-left"},[e("font-awesome-icon",{attrs:{icon:["fas","envelope"]}})],1)])]),e("div",{staticClass:"field has-addons"},[e("div",{staticClass:"control has-icons-left has-icon-right is-expanded"},[e("input",{staticClass:"input",attrs:{id:"pwd",type:t.isPWDShow,placeholder:"密碼",required:""},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.loginFn(s)}}}),e("span",{staticClass:"icon is-left"},[e("font-awesome-icon",{attrs:{icon:["fas","lock"]}})],1)]),e("div",{staticClass:"control"},[e("button",{staticClass:"is-right button",on:{click:t.togglePWDShow}},[e("font-awesome-icon",{attrs:{icon:["fas",t.isPWDShowIcon]}})],1)])]),e("div",{staticClass:"control"},[e("button",{staticClass:"button is-cus-primary",class:{"is-loading":t.loading},attrs:{type:"button"},on:{click:t.loginFn}},[t._v("登入")])])])])])])]),t._m(1)])},n=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"columns"},[e("h2",{staticClass:"logo column is-full is-size-1 has-text-weight-bold"},[t._v("GAGU")])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"img"},[i("img",{attrs:{src:e("d0cf")}})])}],o=e("5530"),a=e("2f62"),c=e("2b1d"),l=e("2803"),d={data:function(){return{pwdShow:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(a["c"])(["loading"])),{},{isPWDShow:function(){return this.pwdShow?"text":"password"},isPWDShowIcon:function(){return this.pwdShow?"eye-slash":"eye"}}),methods:Object(o["a"])(Object(o["a"])({},Object(a["b"])({toggleLoading:"toggleLoading",setLoginInfo:"login/setLoginInfo",setMsg:"setMsg"})),{},{loginFn:function(){var t=this;this.toggleLoading(!0);var s=document.querySelector("#email").value,e=document.querySelector("#pwd").value;return s?e?void Object(l["a"])({email:s,password:e}).then((function(s){c["a"].setItem("token",s.data.token,new Date(1e3*s.data.expire),"/"),t.setLoginInfo(c["a"].getItem("token")),t.setMsg({msg:"登入成功！",type:!0}),t.toggleLoading(!1),setTimeout((function(){t.$router.push("/admin").catch((function(){}))}),1e3)})).catch((function(){t.setMsg({msg:"登入失敗！",type:!1})})):(document.querySelector("#pwd").reportValidity(),void this.toggleLoading(!1)):(document.querySelector("#email").reportValidity(),void this.toggleLoading(!1))},togglePWDShow:function(){this.pwdShow=!this.pwdShow}})},r=d,u=(e("5f0c"),e("2877")),g=Object(u["a"])(r,i,n,!1,null,"7d316932",null);s["default"]=g.exports},d0cf:function(t,s,e){t.exports=e.p+"img/login.907e4e10.jpg"}}]);
//# sourceMappingURL=chunk-65c69d2a.6ee11b11.js.map